<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Secret Tester</title>
  <style>
    /* Copy **exactly** the same CSS from index.html here */
    /* RESET & LAYOUT */
    * { box-sizing:border-box; margin:0; padding:0 }
    html,body { height:100% }
    body { /* … */ transition: background 1s ease-in-out; background-image:url('/static/images/day.jpg'); }
    .layer { /* … same as index.html … */ }
    /* etc. */
  </style>
</head>
<body>
  <!-- slider control -->
  <div style="position:absolute;top:1rem;left:50%;transform:translateX(-50%);
              z-index:10;background:rgba(0,0,0,0.5);padding:0.5rem 1rem;border-radius:4px;">
    <label for="time-slider" style="color:white;">Simulated Time:</label>
    <input id="time-slider" type="range" min="0" max="1439" step="1"/>
    <span id="slider-time-label" style="color:white;margin-left:0.5rem;">--:--</span>
  </div>

  <!-- SKY LAYERS -->
  <div id="stars"  class="layer"></div>
  <div id="noon"   class="layer"></div>
  <div id="dusk"   class="layer"></div>
  <div id="clouds" class="layer"></div>

  <!-- SUN & MOON -->
  <div id="sun"   class="celestial"></div>
  <div id="moon"  class="celestial"></div>

  <!-- PANELS -->
  <div class="panel-container">
    <div id="Jakarta" class="panel">
      <h2>Jakarta</h2>
      <div class="time"    id="Jakarta-time">--:--:--</div>
      <div class="weekday" id="Jakarta-weekday">-------</div>
      <div class="date"    id="Jakarta-date">----/--/--</div>
    </div>
    <div id="Hijri" class="panel">
      <h2>Hijri Calendar</h2>
      <div class="time"    id="Hijri-time">--:--:--</div>
      <div class="weekday" id="Hijri-weekday">-------</div>
      <div class="date"    id="Hijri-date">-------</div>
      <div class="gdate"   id="Hijri-gregorian">--/--/----</div>
    </div>
  </div>

  <script>
    // Copy **exactly** the same JS (A/C flipped, dusk at 17, panels, sky, tick) from index.html…
    // then add the slider hook at the bottom:

    const slider = document.getElementById('time-slider');
    const label  = document.getElementById('slider-time-label');

    function tickSim() {
      const minutes = +slider.value;
      const hours   = Math.floor(minutes/60);
      const mins    = minutes % 60;
      const now     = new Date();
      now.setHours(hours, mins, 0, 0);
      label.textContent = `${String(hours).padStart(2,'0')}:${String(mins).padStart(2,'0')}`;
      updatePanels(now);
      updateSky(now);
    }
    slider.addEventListener('input', tickSim);

    (()=>{
      const now = new Date();
      const total = now.getHours()*60 + now.getMinutes();
      slider.value = total;
      tickSim();
    })();
  </script>
</body>
</html>
